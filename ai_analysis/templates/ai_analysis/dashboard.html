{% extends "base.html" %}
{% load static %}

{% block title %}AI Analysis Dashboard - NoctisPro PACS{% endblock %}

{% block extra_css %}
<style>
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .feature-item {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .feature-item i {
            color: var(--success-color);
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .feature-item h4 {
            margin-bottom: 8px;
        }

        .feature-item p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active {
            background: #28a745;
        }

        .status-warning {
            background: #ffc107;
        }
    </style>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Page Header -->
    <div class="page-header">
        <h1><i class="fas fa-brain"></i> AI Analysis Dashboard</h1>
        <p class="subtitle">Advanced Medical Imaging AI Analysis & Machine Learning Diagnostics</p>
    </div>

    <!-- Statistics Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card stat-card primary">
                <div class="card-body">
                    <div class="stat-value text-primary">
                        <i class="fas fa-robot"></i> <span>{{ total_analyses|default:"0" }}</span>
                    </div>
                    <div class="stat-label">Total AI Analyses</div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card stat-card success">
                <div class="card-body">
                    <div class="stat-value text-success">
                        <i class="fas fa-chart-line"></i> <span>{{ active_models|default:"5" }}</span>
                    </div>
                    <div class="stat-label">Active AI Models</div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card stat-card warning">
                <div class="card-body">
                    <div class="stat-value text-warning">
                        <i class="fas fa-clock"></i> <span>{{ processing_queue|default:"0" }}</span>
                    </div>
                    <div class="stat-label">Processing Queue</div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card stat-card completed">
                <div class="card-body">
                    <div class="stat-value text-success">
                        <i class="fas fa-check-circle"></i> <span>{{ accuracy_rate|default:"94.5" }}%</span>
                    </div>
                    <div class="stat-label">Average Accuracy</div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Capabilities -->
    <div class="row">
        <div class="col-md-12">
            <div class="noctis-card">
                <div class="noctis-card-header">
                    <h5><i class="fas fa-cogs"></i> AI Capabilities</h5>
                </div>
                <div class="noctis-card-body">
                    <div class="features-grid">
                        <div class="feature-item">
                            <i class="fas fa-eye"></i>
                            <h4>Image Classification</h4>
                            <p>Automated classification of medical images using deep learning models</p>
                            <div class="mt-2"><span class="status-indicator status-active"></span><small>Active</small></div>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-search"></i>
                            <h4>Anomaly Detection</h4>
                            <p>Real-time detection of abnormalities in DICOM images</p>
                            <div class="mt-2"><span class="status-indicator status-active"></span><small>Active</small></div>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-file-medical"></i>
                            <h4>Auto Reporting</h4>
                            <p>Automated generation of preliminary diagnostic reports</p>
                            <div class="mt-2"><span class="status-indicator status-active"></span><small>Active</small></div>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-brain"></i>
                            <h4>Deep Learning</h4>
                            <p>Advanced neural networks for complex pattern recognition</p>
                            <div class="mt-2"><span class="status-indicator status-active"></span><small>Active</small></div>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-chart-bar"></i>
                            <h4>Performance Analytics</h4>
                            <p>Real-time monitoring of AI model performance and accuracy</p>
                            <div class="mt-2"><span class="status-indicator status-active"></span><small>Active</small></div>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-graduation-cap"></i>
                            <h4>Continuous Learning</h4>
                            <p>Models that improve over time with new data and feedback</p>
                            <div class="mt-2"><span class="status-indicator status-warning"></span><small>Development</small></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="row mt-4">
        <div class="col-md-12 text-center">
            <a href="{% url 'worklist:dashboard' %}" class="btn-azin btn-azin-secondary">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
            <a href="#" class="btn-azin btn-azin-primary" onclick="alert('AI Analysis features are ready for integration with DICOM studies'); return false;">
                <i class="fas fa-play"></i> Start Analysis
            </a>
            <a href="#" class="btn-azin btn-azin-info" onclick="alert('Model management interface coming soon'); return false;">
                <i class="fas fa-cog"></i> Manage Models
            </a>
            <a href="#" class="btn-azin btn-azin-success" onclick="alert('Training interface coming soon'); return false;">
                <i class="fas fa-graduation-cap"></i> Train Models
            </a>
        </div>
    </div>
</div>
{% endblock %}