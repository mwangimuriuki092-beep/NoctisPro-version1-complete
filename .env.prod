# ============================================================================
# NoctisPro PACS - Production Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your production values
# CRITICAL: Never commit the .env file with real credentials to version control!

# ============================================================================
# REQUIRED VARIABLES (Must be set for production)
# ============================================================================

# PostgreSQL Database
POSTGRES_DB=noctis_pro
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Redis Cache & Message Broker
REDIS_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Django Secret Key (generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')
SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET_KEY

# Domain Configuration
DOMAIN_NAME=your-domain.com
ALLOWED_HOSTS=your-domain.com,www.your-domain.com,localhost,127.0.0.1

# Admin Email (for SSL certificates)
ADMIN_EMAIL=admin@your-domain.com

# ============================================================================
# Application Settings
# ============================================================================

# Environment
DEBUG=false
DEPLOYMENT_MODE=production
USE_HTTPS=true
SECURE_SSL_REDIRECT=true

# Ports
HTTP_PORT=80
HTTPS_PORT=443
DICOM_PORT=11112

# ============================================================================
# DICOM Configuration
# ============================================================================

DICOM_AE_TITLE=NOCTISPRO_SCP
DICOM_SCU_AE_TITLE=NOCTISPRO_SCU

# ============================================================================
# Gunicorn Configuration
# ============================================================================

# Number of worker processes (recommended: 2-4 x num_cores)
GUNICORN_WORKERS=4
GUNICORN_THREADS=4
LOG_LEVEL=info

# ============================================================================
# Celery Configuration
# ============================================================================

CELERY_LOG_LEVEL=info
CELERY_CONCURRENCY=4

# ============================================================================
# Backup Configuration
# ============================================================================

BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================================================
# Monitoring Configuration (Optional)
# ============================================================================

# Grafana Admin Credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
GRAFANA_ROOT_URL=http://localhost:3000

# Grafana Plugins (comma-separated)
GRAFANA_PLUGINS=

# ============================================================================
# Data Directories
# ============================================================================

# Main data directory (all persistent data will be stored here)
DATA_DIR=./data

# Backup directory (should be on a separate disk/volume in production)
BACKUP_DIR=./backups

# ============================================================================
# Build Information (Optional)
# ============================================================================

BUILD_DATE=2024-01-01
VCS_REF=main

# ============================================================================
# Rust/DICOM SCP Configuration
# ============================================================================

RUST_LOG=info

# ============================================================================
# Security Headers (Advanced)
# ============================================================================

# Session Cookie Settings
SESSION_COOKIE_AGE=1209600
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=Lax

# CSRF Cookie Settings
CSRF_COOKIE_SECURE=true
CSRF_COOKIE_HTTPONLY=true
CSRF_COOKIE_SAMESITE=Lax

# ============================================================================
# Performance Tuning
# ============================================================================

# Database Connection Pool
CONN_MAX_AGE=600

# ============================================================================
# Feature Flags
# ============================================================================

AI_PROCESSING_ENABLED=true
ENABLE_METRICS=true

# ============================================================================
# Notes
# ============================================================================
# 
# Password Requirements:
# - Use strong, unique passwords for each service
# - Minimum 20 characters recommended
# - Mix of uppercase, lowercase, numbers, and special characters
# - Never reuse passwords across services
#
# Generate strong passwords with:
# - openssl rand -base64 32
# - pwgen -s 32 1
# 
# Data Directory Structure:
# ${DATA_DIR}/
#   ├── postgres/     - PostgreSQL data
#   ├── redis/        - Redis data
#   ├── media/        - DICOM files and media
#   └── static/       - Static files
#
# Backup Directory:
# ${BACKUP_DIR}/
#   ├── postgres/     - Database backups
#   └── medical/      - Medical data backups
#
# ============================================================================
